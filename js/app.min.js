function navigateTo(navData){var backTarget="overview",pageTitle="",showCommentary=!1,targetPage="main.php",extraParams="";switch(navData){case"overview":pageTitle="Menu",backTarget="dashboard";break;case"user-management":pageTitle="User Management",backTarget="dashboard";break;case"netprofitloss":pageTitle="Net Profit/(Loss)",showCommentary=!0;break;case"sales":pageTitle="Revenue",showCommentary=!0;break;case"makebuy":pageTitle="Operations",showCommentary=!0;break;case"grossprofit":pageTitle="Gross Profit",showCommentary=!0;break;case"selling":pageTitle="Selling Exp",showCommentary=!0;break;case"administration":pageTitle="Administration",showCommentary=!0;break;case"upload":targetPage="uploaddata.php",pageTitle="Upload";break;case"report":targetPage="reports_menu.php",pageTitle="Reports";break;case"report-bs":targetPage="reports_menu.php",pageTitle="Reports",extraParams="bs=1"}var pathname=window.location.pathname,pathParts=pathname.split("/"),filename=pathParts[pathParts.length-1];if(targetPage!=filename){var getParams="page="+navData;if(selectedCompany&&""!=selectedCompany&&selectedMonth&&""!=selectedMonth)getParams+="&company="+encodeURI(selectedCompany)+"&month="+selectedMonth;else for(var searchString=window.location.search.substring(1),urlVariables=searchString.split("&"),i=0;i<urlVariables.length;i++){var pName=urlVariables[i].split("=");"page"!=pName[0]&&(""!=getParams&&(getParams+="&"),getParams+=urlVariables[i])}""!=extraParams&&(getParams+="&"+extraParams),window.location=targetPage+"?"+getParams}else{$("header").removeClass().addClass(navData),$("body").attr("data-current",navData),$('.back-container a[data-ma-action="navigate"]').attr("data-nav-data",backTarget),showCommentary?$(".commentary-menu-item").removeClass("hidden"):$(".commentary-menu-item").addClass("hidden");var navLinks=$('a[data-ma-action="navigate"], button[data-ma-action="navigate"]',".main-menu");navLinks.parent().removeClass("active");var activeNavLinks=$('a[data-nav-data="'+navData+'"], button[data-nav-data="'+navData+'"]',".main-menu");if(activeNavLinks.parent().addClass("active"),$("body").removeClass("sidebar-toggled"),$(".ma-backdrop").remove(),$(".sidebar, .ma-trigger").removeClass("toggled"),targetPage="main.php")if($("#"+navData).length>0)$(".container > .tab-content > .tab-pane").removeClass("active"),$("#"+navData).addClass("active reshown"),"dashboard"==navData?($("header .page-title, header .back-container").addClass("hidden"),$("header .default-title").removeClass("hidden"),$("#header").removeClass("hasPeriod")):($("header .default-title").addClass("hidden"),$("header .back-container").removeClass("hidden"),$("header .page-title").removeClass("hidden").html(pageTitle)),plotGraph("makebuy","total");else{$(".tab-pane").removeClass("active");var newTab=$("#template").clone();newTab.attr("id",navData).addClass("active"),newTab.find("h2 .page-title").html(pageTitle),$(".container > .tab-content").append(newTab),$(".collapse").collapse("hide")}}}function demoValue(){return 15*Math.random()}function plotGraph(page,section){var graphName=""==section?"."+page+"-graph":"."+page+"-"+section+"-graph";$(graphName)[0]&&($.plot($(graphName),[{label:"data1",data:[[0,demoValue()],[1,demoValue()],[2,demoValue()],[3,demoValue()],[4,demoValue()],[5,demoValue()],[6,demoValue()],[7,demoValue()],[8,demoValue()],[9,demoValue()]],color:"white"},{label:"data2",data:[[0,demoValue()],[1,demoValue()],[2,demoValue()],[3,demoValue()],[4,demoValue()],[5,demoValue()],[6,demoValue()],[7,demoValue()],[8,demoValue()],[9,demoValue()]],color:"yellow"}],{series:{lines:{show:!0,fill:!0,fillColor:"rgba(255, 255, 255, 0.3)"},points:{show:!0}},grid:{color:"transparent",hoverable:!0,clickable:!0},xaxis:{color:"rgba(255, 255, 255, 0.5)",font:{color:"white",family:"sans-serif",size:11},ticks:[[0,"Jan"],[1,"Feb"],[2,"Mar"],[3,"Apr"],[4,"May"],[5,"Jun"],[6,"Jul"],[7,"Aug"],[8,"Sep"],[9,"Oct"]]},yaxis:{color:"rgba(255, 255, 255, 0.5)",font:{color:"white",family:"sans-serif",size:11}}}),$("<div id='tooltip'></div>").css({position:"absolute",display:"none",border:"1px solid #fdd",padding:"2px","background-color":"#fee",opacity:.8}).appendTo("body"),$(graphName).bind("plothover",function(event,pos,item){if(item){var y=(item.datapoint[0].toFixed(2),item.datapoint[1].toFixed(2));$("#tooltip").html(y).css({top:item.pageY+5,left:item.pageX+5}).fadeIn(200)}else $("#tooltip").hide()}))}function prepareAccordions(context){$(".collapse",context)[0]&&($(".collapse",context).on("show.bs.collapse",function(e){$(this).closest(".panel").find(".panel-heading").addClass("active")}),$(".collapse",context).on("hide.bs.collapse",function(e){$(this).closest(".panel").find(".panel-heading").removeClass("active")}),$(".collapse.in",context).each(function(){$(this).closest(".panel").find(".panel-heading").addClass("active")}))}if($(document).ready(function(){$("body").on("click","[data-ma-action]",function(e){e.preventDefault();var $this=$(this),action=$(this).data("ma-action");switch(action){case"changeData":promptToChangeData();break;case"navigate":var navData=$this.attr("data-nav-data"),pageTarget=$this.attr("data-href");if(pageTarget){window.location=pageTarget;break}navigateTo(navData);break;case"sidebar-open":var target=$this.data("ma-target"),backdrop='<div data-ma-action="sidebar-close" class="ma-backdrop" />';if("#sidebar-right"==target){var activePage=$("#content .container > .tab-content > .tab-pane.active");$(".tab-pane.active",activePage).length>0&&(activePage=$(".tab-pane.active",activePage));var generatedCommDiv=$(".generated-commentary",activePage);generatedCommDiv.length>0&&$("#sidebar-right .generated-commentary").html(generatedCommDiv.html())}$("body").addClass("sidebar-toggled"),$("#header, #header-alt, #main").append(backdrop),$this.addClass("toggled"),$(target).addClass("toggled");break;case"sidebar-close":$("body").removeClass("sidebar-toggled"),$(".ma-backdrop").remove(),$(".sidebar, .ma-trigger").removeClass("toggled");break;case"submenu-toggle":$this.next().slideToggle(200),$this.parent().toggleClass("toggled");break;case"login-switch":var loginblock=$this.data("ma-block"),loginParent=$this.closest(".lc-block");loginParent.removeClass("toggled"),setTimeout(function(){$(loginblock).addClass("toggled")})}}),$(".style-change").val(""),$(".style-change").change(function(e){$("body").removeClass().addClass($(this).val())})}),$(document).ready(function(){function sparklineBar(id,values,height,barWidth,barColor,barSpacing){$("."+id).sparkline(values,{type:"bar",height:height,barWidth:barWidth,barColor:barColor,barSpacing:barSpacing})}function sparklineLine(id,values,width,height,lineColor,fillColor,lineWidth,maxSpotColor,minSpotColor,spotColor,spotRadius,hSpotColor,hLineColor){$("."+id).sparkline(values,{type:"line",width:width,height:height,lineColor:lineColor,fillColor:fillColor,lineWidth:lineWidth,maxSpotColor:maxSpotColor,minSpotColor:minSpotColor,spotColor:spotColor,spotRadius:spotRadius,highlightSpotColor:hSpotColor,highlightLineColor:hLineColor})}function sparklinePie(id,values,width,height,sliceColors){$("."+id).sparkline(values,{type:"pie",width:width,height:height,sliceColors:sliceColors,offset:0,borderWidth:0})}function easyPieChart(id,trackColor,scaleColor,barColor,lineWidth,lineCap,size){$("."+id).easyPieChart({trackColor:trackColor,scaleColor:scaleColor,barColor:barColor,lineWidth:lineWidth,lineCap:lineCap,size:size})}$(".stats-bar")[0]&&sparklineBar("stats-bar",[6,4,8,6,5,6,7,8,3,5,9,5,8,4],"35px",3,"#fff",2),$(".stats-line")[0]&&sparklineLine("stats-line",[9,4,6,5,6,4,5,7,9,3,6,5],68,35,"#fff","rgba(0,0,0,0)",1.25,"rgba(255,255,255,0.4)","rgba(255,255,255,0.4)","rgba(255,255,255,0.4)",3,"#fff","rgba(255,255,255,0.4)"),$(".stats-pie")[0]&&sparklinePie("stats-pie",[20,35,30,5],45,45,["#fff","rgba(255,255,255,0.7)","rgba(255,255,255,0.4)","rgba(255,255,255,0.2)"]),$(".main-pie")[0]&&easyPieChart("main-pie","rgba(255,255,255,0.2)","rgba(255,255,255,0)","rgba(255,255,255,0.7)",2,"butt",148)}),$(document).ready(function(){var data1=[[1,60],[2,30],[3,50],[4,100],[5,10],[6,90],[7,85]],data2=[[1,20],[2,90],[3,60],[4,40],[5,100],[6,25],[7,65]],data3=[[1,100],[2,20],[3,60],[4,90],[5,80],[6,10],[7,5]],barData=[{label:"Tokyo",data:data1,color:"#8BC34A"},{label:"Seoul",data:data2,color:"#00BCD4"},{label:"Beijing",data:data3,color:"#FF9800"}];$("#bar-chart")[0]&&$.plot($("#bar-chart"),barData,{series:{bars:{show:!0,barWidth:.05,order:1,fill:1}},grid:{borderWidth:1,borderColor:"#eee",show:!0,hoverable:!0,clickable:!0},yaxis:{tickColor:"#eee",tickDecimals:0,font:{lineHeight:13,style:"normal",color:"#9f9f9f"},shadowSize:0},xaxis:{tickColor:"#fff",tickDecimals:0,font:{lineHeight:13,style:"normal",color:"#9f9f9f"},shadowSize:0},legend:{container:".flc-bar",backgroundOpacity:.5,noColumns:0,backgroundColor:"white",lineWidth:0}}),$(".flot-chart")[0]&&($(".flot-chart").bind("plothover",function(event,pos,item){if(item){var x=item.datapoint[0].toFixed(2),y=item.datapoint[1].toFixed(2);$(".flot-tooltip").html(item.series.label+" of "+x+" = "+y).css({top:item.pageY+5,left:item.pageX+5}).show()}else $(".flot-tooltip").hide()}),$("<div class='flot-tooltip' class='chart-tooltip'></div>").appendTo("body"))}),$(document).ready(function(){for(var d1=[],i=0;i<=10;i+=1)d1.push([i,parseInt(30*Math.random())]);for(var d2=[],i=0;i<=20;i+=1)d2.push([i,parseInt(30*Math.random())]);for(var d3=[],i=0;i<=10;i+=1)d3.push([i,parseInt(30*Math.random())]);var options={series:{shadowSize:0,curvedLines:{apply:!0,active:!0,monotonicFit:!0},lines:{show:!1,lineWidth:0,fill:1}},grid:{borderWidth:0,labelMargin:10,hoverable:!0,clickable:!0,mouseActiveRadius:6},xaxis:{tickDecimals:0,ticks:!1},yaxis:{tickDecimals:0,ticks:!1},legend:{show:!1}};$("#curved-line-chart")[0]&&$.plot($("#curved-line-chart"),[{data:d1,lines:{show:!0,fill:.98},label:"Product 1",stack:!0,color:"#e3e3e3"},{data:d3,lines:{show:!0,fill:.98},label:"Product 2",stack:!0,color:"#f1dd2c"}],options),$(".flot-chart")[0]&&($(".flot-chart").bind("plothover",function(event,pos,item){if(item){var x=item.datapoint[0].toFixed(2),y=item.datapoint[1].toFixed(2);$(".flot-tooltip").html(item.series.label+" of "+x+" = "+y).css({top:item.pageY+5,left:item.pageX+5}).show()}else $(".flot-tooltip").hide()}),$("<div class='flot-tooltip' class='chart-tooltip'></div>").appendTo("body"))}),$(document).ready(function(){function gd(year,month,day){return new Date(year,month-1,day).getTime()}var data1=[[gd(2016,1,2),1800],[gd(2016,1,3),1790],[gd(2016,1,4),1810],[gd(2016,1,7),1750],[gd(2016,1,8),1805],[gd(2016,1,9),1800],[gd(2016,1,10),1794],[gd(2016,1,11),1794],[gd(2016,1,14),1807],[gd(2016,1,15),1788],[gd(2016,1,16),1799],[gd(2016,1,17),1804],[gd(2016,1,18),1811],[gd(2016,1,21),1801],[gd(2016,1,22),1805],[gd(2016,1,23),1770],[gd(2016,1,24),1799],[gd(2016,1,25),1804],[gd(2016,1,28),1810],[gd(2016,1,29),1788],[gd(2016,1,30),1804],[gd(2016,1,31),1775]],data2=[[gd(2016,1,2),1674],[gd(2016,1,3),1680],[gd(2016,1,4),1643],[gd(2016,1,7),1652],[gd(2016,1,8),1640],[gd(2016,1,9),1652],[gd(2016,1,10),1652],[gd(2016,1,11),1664],[gd(2016,1,14),1660],[gd(2016,1,15),1664],[gd(2016,1,16),1673],[gd(2016,1,17),1671],[gd(2016,1,18),1682],[gd(2016,1,21),1680],[gd(2016,1,22),1685],[gd(2016,1,23),1684],[gd(2016,1,24),1670],[gd(2016,1,25),1664],[gd(2016,1,28),1652],[gd(2016,1,29),1655],[gd(2016,1,30),1659],[gd(2016,1,31),1668]],dataset=[{label:"Students",data:data1,color:"#26A69A",points:{fillColor:"#26A69A",show:!0,radius:0},lines:{show:!0,lineWidth:2}},{label:"Teachers",data:data2,xaxis:2,color:"#FFC107",points:{fillColor:"#FFC107",show:!0,radius:0},lines:{show:!0,lineWidth:2}}],dayOfWeek=["Sun","Mon","Tue","Wed","Thr","Fri","Sat"],options={series:{shadowSize:0,curvedLines:{apply:!0,active:!0,monotonicFit:!0}},grid:{borderWidth:1,borderColor:"#f3f3f3",show:!0,clickable:!0,hoverable:!0,mouseActiveRadius:20,labelMargin:10},xaxes:[{color:"#f3f3f3",mode:"time",tickFormatter:function(val,axis){return dayOfWeek[new Date(val).getDay()]},position:"top",font:{lineHeight:13,style:"normal",color:"#9f9f9f"}},{color:"#f3f3f3",mode:"time",timeformat:"%m/%d",font:{lineHeight:13,style:"normal",color:"#9f9f9f"}}],yaxis:{ticks:2,color:"#f3f3f3",tickDecimals:0,font:{lineHeight:13,style:"normal",color:"#9f9f9f"}},legend:{container:".flc-visits",backgroundOpacity:.5,noColumns:0,font:{lineHeight:13,style:"normal",color:"#9f9f9f"}}};$("#attendance")[0]&&$.plot($("#attendance"),dataset,options)}),$(document).ready(function(){var data1=[[2010,60],[2011,50],[2012,80],[2013,30],[2014,70],[2015,40],[2016,55]],dataset=[{label:"Index Value",data:data1,color:"#00BCD4",points:{fillColor:"#00BCD4",show:!0,radius:0},lines:{show:!0,lineWidth:1,fill:1,fillColor:{colors:["rgba(255,255,255,0.0)","#00BCD4"]}}}],options={series:{shadowSize:0,curvedLines:{apply:!0,active:!0,monotonicFit:!0}},grid:{borderWidth:1,borderColor:"#eee",show:!0,hoverable:!0,clickable:!0},yaxis:{tickColor:"#eee",tickDecimals:0,font:{lineHeight:13,style:"normal",color:"#9f9f9f"},shadowSize:0},xaxis:{tickColor:"#fff",tickDecimals:0,font:{lineHeight:13,style:"normal",color:"#9f9f9f"},shadowSize:0},legend:{container:".flc-sei",backgroundOpacity:.5,noColumns:0,backgroundColor:"white",lineWidth:0}};$("#effective-index")[0]&&$.plot($("#effective-index"),dataset,options)}),$(document).ready(function(){var feeData=[{data:5,color:"#03A9F4",label:"Collected"},{data:2,color:"#F44336",label:"Not Collected"},{data:1,color:"#8BC34A",label:"Pending"}];$("#fee-collected")[0]&&$.plot("#fee-collected",feeData,{series:{pie:{show:!0,stroke:{width:2}}},legend:{container:".flc-pie",backgroundOpacity:.5,noColumns:0,backgroundColor:"white",lineWidth:0},grid:{hoverable:!0,clickable:!0},tooltip:!1,tooltipOpts:{content:"%p.0%, %s",defaultTheme:!1,cssClass:"flot-tooltip"}})}),$(document).ready(function(){var data=[[1,60],[2,30],[3,50],[4,100],[5,10],[6,90],[7,85],[8,10],[9,25],[10,65],[11,69],[12,104],[13,94],[14,32],[15,10],[16,45],[17,34],[18,22],[19,100],[20,43],[21,98],[22,60],[23,51],[24,30]],dataset=[{data:data,label:"Visits",bars:{show:!0,barWidth:.4,order:1,lineWidth:0,fillColor:"#ff766c"}}],options={grid:{borderWidth:1,borderColor:"#f3f3f3",show:!0,hoverable:!0,clickable:!0,labelMargin:10},yaxis:{tickColor:"#f3f3f3",tickDecimals:0,font:{lineHeight:13,style:"normal",color:"#9f9f9f"},shadowSize:0},xaxis:{tickFormatter:function(value,axis){return value+"h"},tickColor:"#fff",tickDecimals:0,font:{lineHeight:13,style:"normal",color:"#9f9f9f"},shadowSize:0},legend:{show:!1}};$("#visit-server-time")[0]&&$.plot($("#visit-server-time"),dataset,options)}),$(document).ready(function(){function gd(year,month,day){return new Date(year,month-1,day).getTime()}var data1=[[gd(2013,1,2),1690.25],[gd(2013,1,3),1696.3],[gd(2013,1,4),1659.65],[gd(2013,1,7),1668.15],[gd(2013,1,8),1656.1],[gd(2013,1,9),1668.65],[gd(2013,1,10),1668.15],[gd(2013,1,11),1680.2],[gd(2013,1,14),1676.7],[gd(2013,1,15),1680.7],[gd(2013,1,16),1689.75],[gd(2013,1,17),1687.25],[gd(2013,1,18),1698.3],[gd(2013,1,21),1696.8],[gd(2013,1,22),1701.3],[gd(2013,1,23),1700.8],[gd(2013,1,24),1686.75],[gd(2013,1,25),1680],[gd(2013,1,28),1668.65],[gd(2013,1,29),1671.2],[gd(2013,1,30),1675.7],[gd(2013,1,31),1684.25]],data2=[[gd(2013,1,2),1674.15],[gd(2013,1,3),1680.15],[gd(2013,1,4),1643.8],[gd(2013,1,7),1652.25],[gd(2013,1,8),1640.3],[gd(2013,1,9),1652.75],[gd(2013,1,10),1652.25],[gd(2013,1,11),1664.2],[gd(2013,1,14),1660.7],[gd(2013,1,15),1664.7],[gd(2013,1,16),1673.65],[gd(2013,1,17),1671.15],[gd(2013,1,18),1682.1],[gd(2013,1,21),1680.65],[gd(2013,1,22),1685.1],[gd(2013,1,23),1684.6],[gd(2013,1,24),1670.65],[gd(2013,1,25),1664],[gd(2013,1,28),1652.75],[gd(2013,1,29),1655.25],[gd(2013,1,30),1659.7],[gd(2013,1,31),1668.2]],dataset=[{label:"Visits",data:data1,color:"#ff766c",points:{fillColor:"#ff766c",show:!0,radius:2},lines:{show:!0,lineWidth:1}},{label:"Unique Visitors",data:data2,xaxis:2,color:"#03A9F4",points:{fillColor:"#03A9F4",show:!0,radius:2},lines:{show:!0,lineWidth:1}}],dayOfWeek=["Sun","Mon","Tue","Wed","Thr","Fri","Sat"],options={series:{shadowSize:0},grid:{borderWidth:1,borderColor:"#f3f3f3",show:!0,clickable:!0,hoverable:!0,mouseActiveRadius:20,labelMargin:10},xaxes:[{color:"#f3f3f3",mode:"time",tickFormatter:function(val,axis){return dayOfWeek[new Date(val).getDay()]},position:"top",font:{lineHeight:13,style:"normal",color:"#9f9f9f"}},{color:"#f3f3f3",mode:"time",timeformat:"%m/%d",font:{lineHeight:13,style:"normal",color:"#9f9f9f"}}],yaxis:{ticks:2,color:"#f3f3f3",tickDecimals:0,font:{lineHeight:13,style:"normal",color:"#9f9f9f"}},legend:{container:".flc-visits",backgroundOpacity:.5,noColumns:0,font:{lineHeight:13,style:"normal",color:"#9f9f9f"}}};$("#visit-over-time")[0]&&$.plot($("#visit-over-time"),dataset,options)}),$(document).ready(function(){function getRandomData(){for(data.length>0&&(data=data.slice(1));data.length<totalPoints;){var prev=data.length>0?data[data.length-1]:50,y=prev+10*Math.random()-5;y<0?y=0:y>90&&(y=90),data.push(y)}for(var res=[],i=0;i<data.length;++i)res.push([i,data[i]]);return res}function update(){plot.setData([getRandomData()]),plot.draw(),setTimeout(update,updateInterval)}var data=[],totalPoints=300,updateInterval=30;if($("#dynamic-chart")[0]){var plot=$.plot("#dynamic-chart",[getRandomData()],{series:{label:"Server Process Data",lines:{show:!0,lineWidth:.2,fill:.6},color:"#00BCD4",shadowSize:0},yaxis:{min:0,max:100,tickColor:"#eee",font:{lineHeight:13,style:"normal",color:"#9f9f9f"},shadowSize:0},xaxis:{tickColor:"#eee",show:!0,font:{lineHeight:13,style:"normal",color:"#9f9f9f"},shadowSize:0,min:0,max:250},grid:{borderWidth:1,borderColor:"#eee",labelMargin:10,hoverable:!0,clickable:!0,mouseActiveRadius:6},legend:{show:!1}});update()}}),$(document).ready(function(){function getRandomData(){for(data.length>0&&(data=data.slice(1));data.length<totalPoints;){var prev=data.length>0?data[data.length-1]:50,y=prev+10*Math.random()-5;y<0?y=0:y>90&&(y=90),data.push(y)}for(var res=[],i=0;i<data.length;++i)res.push([i,data[i]]);return res}for(var data=[],totalPoints=100,d1=[],i=0;i<=10;i+=1)d1.push([i,parseInt(30*Math.random())]);for(var d2=[],i=0;i<=20;i+=1)d2.push([i,parseInt(30*Math.random())]);for(var d3=[],i=0;i<=10;i+=1)d3.push([i,parseInt(30*Math.random())]);var options={series:{shadowSize:0,lines:{show:!1,lineWidth:0}},grid:{borderWidth:0,labelMargin:10,hoverable:!0,clickable:!0,mouseActiveRadius:6},xaxis:{tickDecimals:0,ticks:!1},yaxis:{tickDecimals:0,ticks:!1},legend:{show:!1}};$("#line-chart")[0]&&$.plot($("#line-chart"),[{data:d1,lines:{show:!0,fill:.98},label:"Product 1",stack:!0,color:"#e3e3e3"},{data:d3,lines:{show:!0,fill:.98},label:"Product 2",stack:!0,color:"#FFC107"}],options),$("#recent-items-chart")[0]&&$.plot($("#recent-items-chart"),[{data:getRandomData(),lines:{show:!0,fill:.8},label:"Items",stack:!0,color:"#00BCD4"}],options),$(".flot-chart")[0]&&($(".flot-chart").bind("plothover",function(event,pos,item){if(item){var x=item.datapoint[0].toFixed(2),y=item.datapoint[1].toFixed(2);$(".flot-tooltip").html(item.series.label+" of "+x+" = "+y).css({top:item.pageY+5,left:item.pageX+5}).show()}else $(".flot-tooltip").hide()}),$("<div class='flot-tooltip' class='chart-tooltip'></div>").appendTo("body"))}),$(document).ready(function(){var pieData=[{data:1,color:"#F44336",label:"Toyota"},{data:2,color:"#03A9F4",label:"Nissan"},{data:3,color:"#8BC34A",label:"Hyundai"},{data:4,color:"#FFEB3B",label:"Scion"},{data:4,color:"#009688",label:"Daihatsu"}];$("#pie-chart")[0]&&$.plot("#pie-chart",pieData,{series:{pie:{show:!0,stroke:{width:2}}},legend:{container:".flc-pie",backgroundOpacity:.5,noColumns:0,backgroundColor:"white",lineWidth:0},grid:{hoverable:!0,clickable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1,cssClass:"flot-tooltip"}}),$("#donut-chart")[0]&&$.plot("#donut-chart",pieData,{series:{pie:{innerRadius:.5,show:!0,stroke:{width:2}}},legend:{container:".flc-donut",backgroundOpacity:.5,noColumns:0,backgroundColor:"white",lineWidth:0},grid:{hoverable:!0,clickable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1,cssClass:"flot-tooltip"}})}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("html").addClass("ismobile"),$(window).load(function(){$("html").hasClass("ismobile")||$(".page-loader")[0]&&setTimeout(function(){$(".page-loader").fadeOut()},500),$(document).scroll(function(){var scrollPosition=$(document).scrollTop();scrollPosition>$(".company-header").height()?$("body").addClass("is-fixed"):$("body").hasClass("is-fixed")&&$("body").removeClass("is-fixed")})}),$(document).ready(function(){function scrollBar(selector,theme,mousewheelaxis){$(selector).mCustomScrollbar({theme:theme,scrollInertia:100,axis:"yx",mouseWheel:{enable:!0,axis:mousewheelaxis,preventDefault:!0}})}$("html").hasClass("ismobile")||$(".c-overflow")[0]&&scrollBar(".c-overflow","minimal-dark","y"),$(".collapse")[0]&&($(".collapse").on("show.bs.collapse",function(e){$(this).closest(".panel").find(".panel-heading").addClass("active")}),$(".collapse").on("hide.bs.collapse",function(e){$(this).closest(".panel").find(".panel-heading").removeClass("active")}),$(".collapse.in").each(function(){$(this).closest(".panel").find(".panel-heading").addClass("active")})),$(".fg-line")[0]&&($("body").on("change",".fg-line .form-control",function(){var i=$(this).val();0==!i.length&&$(this).closest(".fg-line").addClass("fg-toggled")}),$("body").on("focus",".fg-line .form-control",function(){$(this).closest(".fg-line").addClass("fg-toggled")}),$("body").on("blur",".form-control",function(){var p=$(this).closest(".form-group, .input-group"),i=p.find(".form-control").val();p.hasClass("fg-float")?0==i.length&&$(this).closest(".fg-line").removeClass("fg-toggled"):$(this).closest(".fg-line").removeClass("fg-toggled")})),$(".fg-float")[0]&&setTimeout(function(){$(".fg-float .form-control").each(function(){var i=$(this).val();0==!i.length&&$(this).closest(".fg-line").addClass("fg-toggled")})},100),$(".data-table").DataTable({searching:!1,ordering:!1,paging:!1,info:!1,lengthChange:!1}),$("body").on("click",".a-prevent",function(e){e.preventDefault()}),function(){Waves.attach(".btn"),Waves.attach(".btn-icon, .btn-float",["waves-circle","waves-float"]),Waves.init()}(),$('.makebuy-tabs a[role="tab"]').click(function(e){var fullTarget=$(this).attr("aria-controls"),tabTarget=fullTarget.split("makebuy")[1],parentContainer=$(".makebuy-"+tabTarget+"-graph").parent();parentContainer.hasClass("invisible")&&setTimeout(function(){plotGraph("makebuy",tabTarget),parentContainer.removeClass("invisible")},100)}),plotGraph("dashboard",""),tinymce.init({selector:"textarea.editable",inline:!1,plugins:"lists advlist textcolor ",toolbar:"bold italic underline forecolor | bullist numlist outdent indent",menubar:!1})}),function(){function promptForData(userid){$(".data-dialog select").val(""),$(".data-dialog option").not('.data-dialog option[value=""]').remove(),$(".period-select-container").addClass("hidden"),$.ajax({method:"POST",url:"../user/org.php",data:{mode:"getorgassigned",userid:userid}}).done(function(data){if(!($(".period-dialog").length>0)){var xmlData=$.parseXML($.trim(data)),xml=$(xmlData),result=xml.find("result").text();if("ok"==result){var dialogContent=$(".data-dialog").clone();xml.find("org").each(function(index){var orgid=$(this).find("orgid").text(),orgname=$(this).find("orgname").text();$(".company-select",dialogContent).append('<option data-id="'+orgid+'" value="'+orgname+'">'+orgname+"</option>"),0==index&&$(".company-set .value",dialogContent).html(orgname)}),1==xml.find("org").length?($(".company-set",dialogContent).removeClass("hidden"),updateAvailablePeriods($(".company-set .value",dialogContent).text(),dialogContent)):$(".company-select-container",dialogContent).removeClass("hidden"),$(".company-select",dialogContent).change(function(e){var company=$(this).val();""!=company?updateAvailablePeriods(company):($(".period-select-container",dialogContent).addClass("hidden"),dataDialog.getButton("ok").disable())}),$(".period-select",dialogContent).change(function(e){var period=$(this).val();""!=period?dataDialog.getButton("ok").enable():dataDialog.getButton("ok").disable()});var dialogButtons=[{id:"ok",label:"OK",cssClass:"btn-primary",action:function(dialogRef){$(".company-select, .period-select",dialogContent).attr("disabled","disabled"),dialogRef.getButton("ok").disable(),dialogRef.getButton("admin").disable();var selectedCompany=$(".company-select option",dialogContent).length>2?$(".company-select",dialogContent).val():$(".company-value",dialogContent).text(),selectedPeriod=$(".period-select",dialogContent).val();$('#formLogin input[name="company"]').val(selectedCompany),$('#formLogin input[name="period"]').val(selectedPeriod),$("#formLogin").submit()}}];isAdmin&&dialogButtons.push({id:"admin",label:"Admin",cssClass:"btn-link pull-left",action:function(dialogRef){$(".company-select, .period-select",dialogContent).attr("disabled","disabled"),dialogRef.getButton("ok").disable(),dialogRef.getButton("admin").disable(),$('#formLogin input[name="company"]').remove(),$('#formLogin input[name="period"]').remove(),$("#formLogin").submit()}}),dataDialog=BootstrapDialog.show({title:"Select data source",message:dialogContent,cssClass:"period-dialog",type:BootstrapDialog.TYPE_PRIMARY,closable:!1,width:"150px",onshow:function(dialog){dialog.getButton("ok").disable()},buttons:dialogButtons})}else message="Unable to get company information.",$("#login .message").html(message).addClass("error").removeClass("hidden")}}).fail(function(){message="Failed to get company information.",$("#login .message").html(message).addClass("error").removeClass("hidden")})}function updateAvailablePeriods(company,context){context||(context=$(".modal-body")),$(".period-select option",context).not('.period-select option[value=""]').remove(),$.ajax({method:"POST",url:"../informer/reports.php",data:{mode:"monthyear",company:company}}).done(function(data){var xmlData=$.parseXML($.trim(data)),xml=$(xmlData),result=xml.find("result").text();if("ok"==result){var monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];xml.find("Value").each(function(index){var month=parseInt($(this).find("month").text()),year=$(this).find("year").text();$(".period-select",context).append('<option value="'+month+"|"+year+'">'+monthNames[month-1]+" "+year+"</option>"),0==index&&$(".period-set .value",context).html(monthNames[month-1]+" "+year)}),1==xml.find("Value").length?($(".period-set",context).removeClass("hidden"),dataDialog.getButton("ok").enable()):$(".period-select-container",context).removeClass("hidden")}else message="Unable to get period information.",$("#login .message").html(message).addClass("error").removeClass("hidden")}).fail(function(){message="Failed to get period information.",$("#login .message").html(message).addClass("error").removeClass("hidden")})}window.addEventListener("pageshow",function(event){var historyTraversal=event.persisted||"undefined"!=typeof window.performance&&2===window.performance.navigation.type;historyTraversal&&window.location.reload()});var previousContentPanel,dataDialog,isAdmin=!0;$("[data-action]").click(function(e){e.preventDefault();var action=$(this).data("action");switch(action){case"changeContentPanel":var panelID=$(this).data("panel");"previous"==panelID?panelID=previousContentPanel?previousContentPanel:"login":previousContentPanel=$(".content-panel").not(".hidden").attr("id"),$(".message").html("").addClass("hidden"),$(".content-panel").not("#"+panelID).addClass("hidden"),$("#"+panelID).removeClass("hidden"),"help"==panelID?$('[data-panel="help"]').addClass("hidden"):$('[data-panel="help"]').removeClass("hidden")}}),$("#btn-login").click(function(e){if(e.preventDefault(),!$(this).hasClass("disabled")){var message="";$("#login .message").html("").addClass("hidden").removeClass("error");var username=$('#login input[name="userid"]').val(),pwd=$('#login input[name="passwd"]').val();return""==username||""==pwd?(message="You need to enter "+(""==username?"a username.":"your password."),void $("#login .message").html(message).addClass("error").removeClass("hidden")):void $.ajax({method:"POST",url:"../user/user.php",data:{mode:"authenticate",userid:username,passwd:pwd}}).done(function(data){var xmlData=$.parseXML($.trim(data)),xml=$(xmlData),result=xml.find("result").text();if("ok"==result){var userid=xml.find("id").text();promptForData(userid)}else message="Incorrect username or password.",$("#login .message").html(message).addClass("error").removeClass("hidden")}).fail(function(){message="Failed to authenticate with the server.",$("#login .message").html(message).addClass("error").removeClass("hidden")})}}),$("#btn-reset").click(function(e){if(e.preventDefault(),!$(this).hasClass("disabled")){var message="";$("#forget-password .message").html("").addClass("hidden").removeClass("error").removeClass("success");var username=$('#forget-password input[name="userid"]').val();return""==username?(message="You need to enter a username.",void $("#forget-password .message").html(message).addClass("error").removeClass("hidden")):void $.ajax({method:"POST",url:"../user/user.php",data:{mode:"forgotpass",userid:username}}).done(function(data){var xmlData=$.parseXML($.trim(data)),xml=$(xmlData),result=xml.find("result").text(),reason=xml.find("message").text();"ok"==result?(message="Your password has been reset and emailed to you.",$("#forget-password .message").html(message).addClass("success").removeClass("hidden")):(message="Unable to reset your password: "+reason,$("#forget-password .message").html(message).addClass("error").removeClass("hidden"))}).fail(function(){message="Failed to reset passowrd.",$("#forget-password .message").html(message).addClass("error").removeClass("hidden")})}})}(),function(){function promptToChangeData(pageID){$(".change-data-dialog select").val(""),$(".change-data-dialog option").not('.change-data-dialog option[value=""]').remove(),$(".period-select-container").addClass("hidden"),"undefined"==typeof userid&&alert("User ID undefined"),$.ajax({method:"POST",url:"../user/org.php",data:{mode:"getorgassigned",userid:userid}}).done(function(data){var xmlData=$.parseXML($.trim(data)),xml=$(xmlData),result=xml.find("result").text();if("ok"==result){var options="";xml.find("org").each(function(index){var orgid=$(this).find("orgid").text(),orgname=$(this).find("orgname").text();options+='<option data-id="'+orgid+'" value="'+orgname+'">'+orgname+"</option>"});var dialogContent=$(".change-data-dialog").clone();$(".company-select",dialogContent).append(options),$(".company-select",dialogContent).change(function(e){var company=$(this).val();""!=company?updateAvailablePeriods(company):($(".period-select-container").addClass("hidden"),changeDataDialog.getButton("ok").disable())});var changeDataDialog=BootstrapDialog.show({title:"Select data source",message:dialogContent,cssClass:"period-dialog",type:BootstrapDialog.TYPE_PRIMARY,closable:!1,width:"150px",onshow:function(dialog){dialog.getButton("ok").disable()},onshown:function(dialog){},buttons:[{id:"cancel",label:"Cancel",cssClass:"btn-secondary",action:function(dialogRef){dialogRef.close()}},{id:"ok",label:"OK",cssClass:"btn-primary",action:function(dialogRef){$(".company-select, .period-select").attr("disabled","disabled"),dialogRef.getButton("ok").disable(),dialogRef.getButton("cancel").disable();var selectedCompany=$(".company-select",dialogContent).length>0?$(".company-select",dialogContent).val():$(".company-value").text(),selectedPeriod=$(".period-select",dialogContent).val(),path="main.php?company="+selectedCompany+"&month="+selectedPeriod;pageID&&(path+="&page="+pageID),window.location.assign(path)}}]});$(".period-select",dialogContent).change(function(e){var period=$(this).val();""!=period?changeDataDialog.getButton("ok").enable():changeDataDialog.getButton("ok").disable()})}else message="Unable to get company information.",
$("#login .message").html(message).addClass("error").removeClass("hidden")}).fail(function(){alert("fail"),message="Failed to get company information.",$("#login .message").html(message).addClass("error").removeClass("hidden")})}function updateAvailablePeriods(company){$(".period-select option").not('.period-select option[value=""]').remove(),$.ajax({method:"POST",url:"../informer/reports.php",data:{mode:"monthyear",company:company}}).done(function(data){var xmlData=$.parseXML($.trim(data)),xml=$(xmlData),result=xml.find("result").text();"ok"==result?(xml.find("Value").each(function(index){var month=parseInt($(this).find("month").text()),year=$(this).find("year").text(),monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];$(".period-select").append('<option value="'+month+"|"+year+'">'+monthNames[month-1]+" "+year+"</option>")}),$(".period-select-container").removeClass("hidden")):(message="Unable to get period information.",$("#error .message").html(message).addClass("error").removeClass("hidden"))}).fail(function(){message="Failed to get period information.",$("#error .message").html(message).addClass("error").removeClass("hidden")})}$('.btn-test, [data-action="changeData"]').click(function(e){var pageID=$(this).attr("data-page");promptToChangeData(pageID)})}(),$(".tablinks").length>0){var firstTablink=$(".tablinks").eq(0);firstTablink.addClass("active").attr("disabled","disabled");var firstTabname=firstTablink.attr("data-value");firstTabname=firstTabname.split(" ").join("-"),$(".tabcontent[data-period="+firstTabname+"]").removeClass("hidden")}$(".tablinks").click(function(e){$(".tabcontent").addClass("hidden"),$(".tablinks").removeClass("active").removeAttr("disabled");var tabname=$(this).attr("data-value");tabname=tabname.split(" ").join("-"),$(".tabcontent[data-period="+tabname+"]").removeClass("hidden"),$(this).addClass("active").attr("disabled","disabled")});