new function(){var UID=Date.now();atom.string={uniqueID:function(){return(UID++).toString(36)},safeHtml:function(string){return this.replaceAll(string,/[<'&">]/g,{"&":"&amp;","'":"&#039;",'"':"&quot;","<":"&lt;",">":"&gt;"})},repeat:function(string,times){return new Array(times+1).join(string)},substitute:function(string,object,regexp){return string.replace(regexp||/\\?\{([^{}]+)\}/g,function(match,name){return match[0]=="\\"?match.slice(1):object[name]==null?"":object[name]})},replaceAll:function(string,find,replace){if(toString.call(find)=="[object RegExp]"){return string.replace(find,function(symb){return replace[symb]})}else if(typeof find=="object"){for(var i in find)string=this.replaceAll(string,i,find[i]);return string}return string.split(find).join(replace)},contains:function(string,substr){return string?string.indexOf(substr)>=0:false},begins:function(string,substring,caseInsensitive){if(!string)return false;return!caseInsensitive?substring==string.substr(0,substring.length):substring.toLowerCase()==string.substr(0,substring.length).toLowerCase()},ends:function(string,substring,caseInsensitive){if(!string)return false;return!caseInsensitive?substring==string.substr(string.length-substring.length):substring.toLowerCase()==string.substr(string.length-substring.length).toLowerCase()},ucfirst:function(string){return string?string[0].toUpperCase()+string.substr(1):""},lcfirst:function(string){return string?string[0].toLowerCase()+string.substr(1):""}}};